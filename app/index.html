<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="description" content="Brewly - Twój osobisty asystent do parzenia kawy specialty.">
    <meta name="theme-color" content="#10b981">
    <title>Brewly</title>

    <!-- PWA -->
    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>☕</text></svg>">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Styles -->
    <link rel="stylesheet" href="../src/styles/base/variables.css">
    <link rel="stylesheet" href="../src/styles/base/main.css">
    <link rel="stylesheet" href="../src/styles/components/cards.css">
    <link rel="stylesheet" href="../src/styles/components/forms.css">
    <link rel="stylesheet" href="../src/styles/layout/navigation.css">
    <link rel="stylesheet" href="../src/features/account/account.css">
    <link rel="stylesheet" href="../src/features/dashboard/dashboard.css">
    <link rel="stylesheet" href="../src/features/library/library.css">
    <link rel="stylesheet" href="../src/features/brew-assistant/brew-assistant.css">

    <!-- Scripts -->
    <script type="module" src="../src/app.js" defer></script>
</head>

<body>

    <main id="app-content">

        <!-- ============ DASHBOARD ============ -->
        <section id="dashboard-view" class="view active">
            <!-- Content rendered by DashboardView.js -->
        </section>

        <!-- ============ BIBLIOTEKA ============ -->
        <section id="library-view" class="view" style="display: none;">
            <!-- Content rendered by LibraryView.js -->
        </section>

        <!-- ============ ASYSTENT PARZENIA ============ -->
        <section id="assistant-view" class="view" style="display: none;">
            <!-- Content rendered by BrewAssistantView.js -->
        </section>

        <!-- ============ MOJE KONTO ============ -->
        <section id="account-view" class="view" style="display: none;">
            <!-- Content rendered by AccountView.js -->
        </section>

        <!-- ============ DODAWANIE KAWY (Modal/Page) ============ -->
        <section id="add-coffee-view" class="view" style="display: none;">
            <div class="view-header">
                <button class="nav-btn-back" data-view="library">← Anuluj</button>
                <h2 class="page-title">Nowa Paczka</h2>
            </div>
            <div class="view-container">
                <form id="coffee-form" class="app-form">
                    <fieldset>
                        <legend>Informacje o Kawie</legend>
                        <div class="form-group">
                            <label>Nazwa Kawy *</label>
                            <input type="text" name="name" required placeholder="np. Ethiopia Shantawene">
                        </div>
                        <div class="form-group">
                            <label>Palarnia *</label>
                            <input type="text" name="roaster" required placeholder="np. Bonanza Coffee">
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Kraj Pochodzenia</label>
                                <select name="origin" id="origin-select">
                                    <option value="">Wybierz kraj...</option>
                                    <!-- Populated by JS -->
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Data Palenia *</label>
                                <input type="date" name="roastDate" required>
                            </div>
                        </div>
                        
                        <div id="custom-origin-group" class="form-group" style="display: none;">
                            <input type="text" name="customOrigin" placeholder="Wpisz kraj lub region...">
                        </div>
                        
                        <div class="form-group">
                            <label>Waga Paczki *</label>
                            <div class="weight-presets">
                                <button type="button" class="chip-radio" data-value="250">250g</button>
                                <button type="button" class="chip-radio" data-value="500">500g</button>
                                <button type="button" class="chip-radio" data-value="1000">1kg</button>
                                <button type="button" class="chip-radio active" data-value="custom">Inna</button>
                            </div>
                            <input type="number" name="weightCurrent" id="weight-input" value="250" min="50" max="10000" step="50" placeholder="Wpisz wagę (g)" required>
                        </div>
                    </fieldset>

                    <fieldset>
                        <legend>Szczegóły (Opcjonalne)</legend>
                        <div class="form-group">
                            <label>Obróbka</label>
                            <select name="process" id="process-select">
                                <option value="">Nie wiem</option>
                                <option value="Washed">Washed</option>
                                <option value="Natural">Natural</option>
                                <option value="Honey">Honey</option>
                                <option value="Anaerobic">Anaerobic</option>
                                <!-- Populated dynamically + Custom -->
                            </select>
                        </div>
                        
                        <div id="custom-process-group" style="display: none; padding-left: var(--space-2); border-left: 2px solid var(--border-medium); margin-bottom: var(--space-4);">
                            <div class="form-group">
                                <label>Nazwa obróbki</label>
                                <input type="text" name="customProcess" placeholder="np. Experimental Fermentation">
                            </div>
                            <div class="form-group checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" name="saveProcess">
                                    <span>Dodać obróbkę do bazy?</span>
                                </label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Wysokość upraw (m n.p.m.)</label>
                            <div class="number-stepper">
                                <button type="button" class="step-btn minus">−</button>
                                <input type="number" name="altitude" id="altitude-input" placeholder="np. 1800" step="50" min="0" max="4000">
                                <button type="button" class="step-btn plus">+</button>
                            </div>
                            <small class="form-hint">Zmień wartość co 50m lub wpisz ręcznie</small>
                        </div>
                    </fieldset>

                    <div class="form-actions">
                        <button type="submit" class="btn-primary full-width">Dodaj do Kolekcji</button>
                    </div>
                </form>
            </div>
        </section>

    </main>

    <!-- ============ BOTTOM NAVIGATION ============ -->
    <nav class="tab-navigation">
        <button class="tab-btn active" data-view="dashboard">
            <i class="fa-solid fa-chart-line"></i>
            <span>Dashboard</span>
        </button>

        <button class="tab-btn" data-view="library">
            <i class="fa-solid fa-book-open"></i>
            <span>Biblioteka</span>
        </button>

        <button class="tab-btn" data-view="assistant">
            <i class="fa-solid fa-flask"></i>
            <span>Asystent</span>
        </button>

        <button class="tab-btn" data-view="account">
            <i class="fa-solid fa-user"></i>
            <span>Moje Konto</span>
        </button>
    </nav>

</body>

</html>